"use strict";var Photo=Backbone.Model.extend({idAttribute:"_id",defaults:{url:""}}),PhotoCollection=Backbone.Collection.extend({model:Photo,initialize:function(a){this.url=a.url,this.id=_.uniqueId("collection-"),this.on("add",function(a){new PhotoView({model:a,container:$("."+this.id)})})}}),PhotoView=Backbone.View.extend({tagName:"nav",template:_.template($(".column-one-template").text()),events:{"click .remove-photo":"deletePhoto","click .move-right-once":"movePhoto","click .move-right-twice":"movePhoto2"},initialize:function(a){this.container=a.container,this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"change",this.render),this.container.append(this.el),this.render()},render:function(){var a=this.template(this.model.attributes);return this.$el.html(a),this},deletePhoto:function(){this.model.destroy()},movePhoto:function(){var a=_.indexOf(collectionArray,this.model.collection);if(console.log("tester",a),a+1>=collectionArray.length){var b=collectionArray[0].add({url:this.model.attributes.url});console.log("yes!")}else{var b=collectionArray[a+1].add({url:this.model.attributes.url});console.log("what?")}b.save(),this.model.destroy()},movePhoto2:function(){var a=_.indexOf(collectionArray,this.model.collection);console.log("work!",a),a+2>=collectionArray.length?(collectionArray[1].add({url:this.model.attributes.url}),console.log("maybe?")):(collectionArray[a+2].add({url:this.model.attributes.url}),console.log("yay!")),newModel.save(),this.model.destroy()}}),collectionArray=[new PhotoCollection({url:"http://tiny-pizza-server.herokuapp.com/collections/photos"}),new PhotoCollection({url:"http://tiny-pizza-server.herokuapp.com/collections/photos1"}),new PhotoCollection({url:"http://tiny-pizza-server.herokuapp.com/collections/photos2"})];collectionArray.forEach(function(a){var b=$("<div></div>");b.addClass(a.id+" container"),$(".image-container").append(b),a.fetch()});